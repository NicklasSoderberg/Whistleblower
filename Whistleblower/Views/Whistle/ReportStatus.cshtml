@model Whistleblower.ViewModels.ReportStatusViewModel
@{

}
@{
    ViewBag.Title = "ReportStatus";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


@Html.AntiForgeryToken()


<div class="form-horizontal">
    <div class="text-right">
        <button type="button" id="logout" class="btn btn-danger text-right">Logout</button>
    </div>
</div>

<nav class="navbar text-center">
    <img src="~/images/omegapoint.png" width="250" height="100" class="">
    @Html.ActionLink("MITT ÄRENDE", "ReportStatus", "Login", null, htmlAttributes: new { @class = "btn", style = "color: black; font-size:15px; text-decoration: underline;" })
    @if (Model.SafeBox == true)
    {
        List<Whistleblower.Models.Mail> TempList = DBHandler.GetMessages(Model.Whistle.WhistleID);
        if (TempList[TempList.Count() - 1].MailSenderType == Whistleblower.ViewModels.SafeboxViewmodel.MailSenders.Lawyer)
        {
            <a href="#" id="goToSafeBox" class="btn" style="color: black; font-size: 15px; text-decoration: underline;">Safebox<span class="glyphicon glyphicon-envelope" style="color: red;"></span></a>
        }
        else
        {
            <a href="#" id="goToSafeBox" class="btn" style="color: black; font-size: 15px; text-decoration: underline;">Safebox</a>
        }
    }
</nav>

<hr />


<div class="container">
    <div class="form-body">
        <div class="form-group">
            <div class="h5" style="font-weight:bold">Ärende status</div>
            <div>@Html.DisplayFor(model => model.Whistle.CurrentStatus)</div>
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.Whistle.About, new { @class = "h5", style = "font-weight: bold" })
            <div>@Html.DisplayFor(model => model.Whistle.About)</div>
        </div>

        <div class="form-group">
            @Html.LabelFor(m => m.Whistle.Description, new { @class = "h5", style = "font-weight: bold" })
            <div>@Html.DisplayFor(model => model.Whistle.Description)</div>
        </div>


        <div class="form-group">
            @Html.LabelFor(m => m.Whistle.When, new { @class = "h5", style = "font-weight: bold" })
            <div>@Html.DisplayFor(model => model.Whistle.When)</div>
        </div>


        <div class="form-group">
            @Html.LabelFor(m => m.Whistle.Where, new { @class = "h5", style = "font-weight: bold" })
            <div>@Html.DisplayFor(model => model.Whistle.Where)</div>
        </div>
    </div>
</div>

@section Scripts{
    @Scripts.Render("~/bundles/jquery")

    <script>
        $("#logout").click(function () {
        window.location.href = '@Url.Action("LogOutUser", "Login")'
    });
    </script>

    <script>
        $("#goToSafeBox").click(function () {
        window.location.href = '@Url.Action("Safebox" + "/" + Model.Whistle.WhistleID, "Whistle")'
        console.log("test")
    });
    </script>

}
